# מבנה מסמך אפיון - Document Structure Guide

**מסמך זה מגדיר מה לכלול בכל פרק ופרק באפיון טכני**

**הנחיה:** השתמש ב-Heading 1 לפרקים ראשיים, Heading 2 לתתי-פרקים, Heading 3 ו-4 לפירוט נוסף

---

## הקדמה - מידע כללי על המסמך (לא ממוספר)

**מה לכלול:**

צור טבלת מידע פותחת עם המטא-דאטה של המסמך.

**המטרה:** זיהוי המסמך, מעקב אחריות ותיעוד תהליך אישור.

**שדות חובה:**
- שם כותב האפיון (בדרך כלל ארכיטקט או מאפיין טכני)
- תאריך יצירת הגרסה הנוכחית
- גורמים מאשרים (מנהל פרויקט, מוביל טכני, נציג לקוח)
- גורמים לידיעה (מפתחים, בודקים, מעצבים, בעלי עניין)

**שדות אופציונליים:**
- תאריך אישור בפועל (אם יש מספר סבבי אישור)
- מספר גרסה או מספר מעקב פנימי (בפרויקטים גדולים)

**פורמט טבלה:**

```markdown
| שדה | ערך |
|-----|-----|
| כותב המסמך | [שם מלא של הכותב] |
| תאריך | [DD/MM/YYYY] |
| גורמים מאשרים | [שמות המאשרים, מופרדים בפסיקים] |
| גורמים לידיעה | [שמות הנמענים לידיעה] |
```

---

# מנהלה

## מעקב שינויים

**מה לכלול:**

תעד את כל השינויים שעבר המסמך לאורך חייו.

**חשיבות:** מעקב אחר התפתחות האפיון, הבנת קונטקסט להחלטות, מניעת בלבול בין גרסאות.

**עבור כל שינוי רשום:**
- **מספר גרסה:** פורמט X.Y (X = שינוי מהותי, Y = תיקונים קלים)
- **תאריך:** מתי בוצע השינוי
- **מחבר:** מי ביצע את השינוי
- **תיאור:** תמציתי וספציפי (לדוגמה: "הוספת איפיון לרכיב חיפוש מתקדם" - לא רק "עדכונים")

**טיפים:**
- הגרסה הראשונה תמיד תסומן "גרסה ראשונית"
- שמור סדר כרונולוגי עקבי (העדכני בראש או בתחתית)
- בפרויקטים עם אישור רשמי: הוסף עמודה לצבע/סטטוס אישור

**פורמט טבלה:**

```markdown
| מספר שינוי | תאריך | מחבר | תיאור |
|------------|-------|------|-------|
| 1.0 | [DD/MM/YYYY] | [שם] | גרסה ראשונית |
| 1.1 | [DD/MM/YYYY] | [שם] | [תיאור השינויים שבוצעו] |
| 2.0 | [DD/MM/YYYY] | [שם] | [תיאור שינוי מהותי] |
```

---

## מקרא סימונים

**מה לכלול:**

הגדר מערכת סימון אחידה לציון סוגי מידע שונים במסמך.

**מטרה:** לאפשר לקורא לזהות במהירות את סוג המידע (דוגמה, דורש השלמה, קוד).

**סימונים נפוצים:**
- **רקע צהוב** - דוגמאות מפרויקטים אחרים (להמחשה בלבד)
- **רקע טורקיז** - נקודות לבדיקה/השלמה
- **כתב כחול מודגש** - שמות משתנים בקוד (VariableName)
- **אדום מודגש עם קו תחתון** - תנאים לוגיים (LogicCondition)
- **אדום מודגש** - נתיבי ניווט (RoutePath)

**סגנונות Word:**
אם משתמשים בסגנונות מיוחדים (PropertyAlias, LogicCondition, VariableName, RoutePath), כלול אותם במקרא עם הסבר מתי להשתמש בהם.

**חשיבות:** המקרא משמש כנקודת התייחסות לאורך כל קריאת המסמך.

**פורמט טבלה:**

```markdown
| סימון | משמעות | דוגמה |
|-------|---------|-------|
| רקע צהוב | דוגמאות מפרוייקטים אחרים (לא חלק מפרויקט זה) | [טקסט לדוגמא] |
| רקע טורקיז | נקודות הדורשות בדיקה/השלמה | [טקסט לדוגמא] |
| PropertyAlias | שם property ב-Umbraco CMS | `heroTitle` |
| LogicCondition | תנאי לוגי | אם X אז Y אחרת Z |
| VariableName | משתנה בקוד | `isActive` |
| RoutePath | נתיב ניווט באתר | `/about` |
```

---

## מילון מונחים

**מה לכלול:**

צור מילון של מונחים טכניים, ראשי תיבות וקונספטים ספציפיים לפרויקט.

**מטרה:** להבטיח שכולם (מפתחים, בודקים, מנהלי פרויקט, בעלי עניין) יבינו את המונחים.

**סוגי מונחים:**
- **טכניים:** Document Type, Composition, Block List (ספציפי ל-Umbraco)
- **עסקיים:** מונחים ייחודיים לתחום (לדוגמה: "מפעל", "ליגה", "טריידר")
- **ייחודיים לפרויקט:** כל מונח שפותח במיוחד לפרויקט זה

**כללי כתיבה:**
- הגדרה ברורה ותמציתית (משפט-שניים מקסימום)
- הימנע מהגדרות מעגליות ("X הוא X")
- הסבר במילים אחרות או תן דוגמה
- אם מתורגם מאנגלית - כלול את המונח באנגלית בסוגריים

**ארגון:** סדר אלפביתי או לפי נושאים (טכני, עסקי, UX) - היה עקבי.

**טיפ:** בנה את המילון תוך כדי כתיבת האפיון - כל מונח שעלול להיות לא מובן, הוסף מיד.

**פורמט טבלה:**

```markdown
| מונח | הסבר |
|------|-------|
| [מונח 1] | [הגדרה ברורה ותמציתית] |
| [מונח 2] | [הגדרה ברורה ותמציתית] |
```

---

# כללי

## מטרת המסמך

**מה לכלול:**

תיאור תמציתי וממוקד של מה מתואר במסמך ולמה הוא קיים.

**אורך:** 2-4 משפטים - תמציתי ולעניין.

**מבנה מומלץ:**

1. **קונטקסט רחב** - אפיון לאתר חדש? שדרוג? פיצ'ר חדש? תיעוד רכיב?

2. **תוכן המסמך** - מפרט טכני מלא? ממשק משתמש? ממשקי API?

3. **גבולות ברורים** - מה כן נמצא במסמך ומה לא
   - דוגמה: "מסמך זה מתאר את עמוד יצירת הקשר בלבד, ואינו כולל את מערכת ניהול הפניות בצד הבק-אופיס"

4. **מסמכים קשורים** - אם יש, ציין קישורים למסמכי אפיון משלימים

**מטרה:** מי שפותח את המסמך יבין תוך 30 שניות אם זה המסמך שהוא צריך.

**פורמט:**

```markdown
מסמך זה מתאר את [מה מתואר - עמוד/רכיב/מערכת]. [הקשר - למה זה נדרש]. [גבולות - מה כלול ומה לא]. [קשרים - מסמכים קשורים אם יש].
```

---

## רקע כללי

**מה לכלול:**

הקשר עסקי וטכני שהוביל ליצירת הפיצ'ר/האתר.

**מבנה (1-2 פסקאות):**

**פסקה 1 - המצב הקיים והצורך:**
- מה יש היום
- בעיות או מגבלות
- למה נדרש שינוי
- מוטיבציה עסקית (שיפור UX, המרות, תקנות, החלפת מערכת)
- או: פרויקט חדש - הצורך העסקי

**פסקה 2 - בעלי עניין ואילוצים:**
- מי היזם, הלקוח, המשתמשים
- אילוצים חשובים (תקציב, זמן, תקנות, תלויות)
- קישורים למכירה/מכרז/דרישות

**מטרה:** מפתח שלא היה מעורב מההתחלה יבין למה הפיצ'ר נבנה.

**פורמט:**

```markdown
[תיאור המצב הקיים והבעיה]. [למה נדרש שינוי - מוטיבציה עסקית]. [מי בעלי העניין המרכזיים]. [אילוצים חשובים אם יש].
```

---

## תוצרים

**מה לכלול:**

רשימה מפורשת של כל התוצרים (Deliverables) שיווצרו בפרויקט.

**סוגי תוצרים:**

**טכניים:**
- עמודים באתר
- רכיבי UI
- ממשקי API
- Document Types ב-Umbraco

**עיצוביים:**
- קבצי Figma
- Style Guide

**תיעודיים:**
- מדריכי משתמש
- תיעוד API

**תשתיתיים:**
- סביבות Staging
- Pipeline CI/CD

**רמת הפירוט:**
- **לא מספיק:** "עמוד צור קשר"
- **טוב:** "עמוד צור קשר כולל: טופס יצירת קשר, מפת גוגל, פרטי התקשרות, שעות פעילות"

**חשוב לציין:**
- תלויות בין תוצרים
- תוצרים שדורשים אישור
- תוצרים שמסופק על ידי הלקוח (תכנים, תמונות, לוגו)

**מטרה:** רמת פירוט שמאפשרת בניית checklist לקבלת הפרויקט.

**פורמט:**

```markdown
מסמך זה מתאר את התוצרים הבאים:

1. [תוצר 1 - תיאור מפורט של מה כלול]
2. [תוצר 2 - תיאור מפורט]
3. [תוצר 3]
...

**תוצרי עיצוב:**
- [רשימה]

**תוצרי תיעוד:**
- [רשימה]
```

---

## קהל היעד

**מה לכלול:**

ניתוח ותיעוד של כל קהלי היעד.

**עבור כל קהל תאר:**
- **מי הם:** דמוגרפיה, תפקיד, רמת ידע טכני
- **מטרות:** מה הם מנסים להשיג
- **תרחישי שימוש:** use cases ספציפיים
- **אתגרים:** זמן מוגבל, גישה ממובייל, מוגבלות, רמת שפה

**השפעה על עיצוב:**
- קהל קשישים → גופנים גדולים, ניווט פשוט
- קהל מקצועי-טכני → פונקציונליות מתקדמת

**כלול:** edge cases, personas (אם יש)

**שימוש:** לוודא שהפיצ'ר עונה על צרכי כל הקהלים.

**פורמט טבלה:**

```markdown
| קהל | תיאור הקהל | צרכים | תרחישי שימוש | אתגרים/מגבלות |
|------|-------------|--------|---------------|----------------|
| [סוג קהל 1] | [מי הם, רקע, רמת ידע] | [מה הם צריכים] | [איך ישתמשו] | [קשיים צפויים] |
| [סוג קהל 2] | [...] | [...] | [...] | [...] |
```

---

## מערכות חיצוניות

**מה לכלול:**

תיעוד של כל המערכות החיצוניות.

**עבור כל מערכת כלול:**
- **שם** ותיאור קצר (במיוחד מערכות פנים-ארגוניות)
- **סוג ממשק:** REST API, SOAP, File Transfer, Database, Webhook
- **אחריות:** מי מפתח, מתחזק, אחראי על זמינות
- **מידע טכני:** Endpoint, אימות, SLA/זמינות

**כלול גם:**
- מערכות בפיתוח מקביל (ציין תלות עבודה)
- מערכות עקיפות (Google Maps, Stripe, SendGrid)

**הבחן:**
- **Read** - האתר קורא מידע
- **Write** - האתר כותב מידע
(משפיע על אבטחה ו-error handling)

**סמן:** תלות קריטית (האתר לא יכול לתפקד בלי המערכת)

**שימוש:** תכנון בדיקות אינטגרציה, זיהוי סיכונים טכניים.

**פורמט טבלה:**

```markdown
| מערכת | תיאור | סוג ממשק | אחריות | זמינות/SLA | הערות |
|-------|-------|-----------|---------|------------|-------|
| [שם מערכת] | [מה היא עושה] | [REST/SOAP/etc] | [גורם אחראי] | [99.9%/24x7/etc] | [תלות, קריטיות] |
```

---

## ארכיטקטורת הפתרון

**מה לכלול:**

### תשתיות

המחסנית הטכנולוגית (Technology Stack) המלאה.

**שכבות:**
- **CMS:** Umbraco + גרסה
- **Framework:** React, Vue, או rendering server-side
- **שפת תכנות:** C#, TypeScript
- **מסד נתונים:** SQL Server, PostgreSQL
- **אחסון:** Azure, AWS, IIS
- **CDN:** אם משתמשים
- **שירותי ענן:** Blob Storage, Queues, Functions

**לכל רכיב:** ציין גרסה ספציפית (Umbraco 13, .NET 8, React 18)

**כלול:**
- הסבר החלטות טכנולוגיות
- אילוצים טכניים

**DevOps:**
- Git + GitHub/Azure DevOps
- CI/CD Pipeline
- Webpack, Vite
- כלי בדיקות

**מטרה:** תמונה מלאה של "ממה בנוי הפתרון".

**פורמט טבלה:**

```markdown
| רכיב | טכנולוגיה | גרסה | הערות |
|-------|-----------|-------|-------|
| CMS | [שם CMS] | [גרסה] | [החלטה למה נבחר] |
| Frontend Framework | [React/Vue/etc] | [גרסה] | [הערות] |
| Backend | [.NET/Node/etc] | [גרסה] | [הערות] |
| Database | [SQL Server/PostgreSQL/etc] | [גרסה] | [הערות] |
| Hosting | [Azure/AWS/On-Premise] | - | [Region, Tier] |
| CDN | [כן/לא - אם כן, איזה] | - | [לאיזה משאבים] |
```

### אבטחת מידע

מדיניות אבטחה ומימושים טכניים.

**דרישות בסיסיות (חובה):**
- HTTPS
- CSRF Protection (כל טופס)
- Input Validation (client + server)
- XSS Protection
- SQL Injection Protection

**דרישות ספציפיות:**
- אימות דו-שלבי
- הצפנת מסד נתונים
- ניהול סיסמאות
- הגבלות IP
- Audit Log

**תקנות:** GDPR, HIPAA, ישראליות - ציין דרישות

**הרשאות:** תפקידים (Admin, Editor, Viewer), ניהול (AD, Azure AD)

**חשוב:** אבטחה מתוכננת מההתחלה.

**פורמט טבלה:**

```markdown
| היבט אבטחה | מימוש נדרש | הערות |
|------------|-------------|-------|
| HTTPS | [כן - SSL Certificate מסוג X] | [ספק, עלות חידוש] |
| CSRF Protection | [Anti-forgery tokens בכל טופס] | [ספרייה/מימוש] |
| Input Validation | [Server + Client side] | [כללי validation] |
| XSS Prevention | [Encoding של outputs] | [Sanitization library] |
| הרשאות | [תפקידים: Admin, Editor, Viewer] | [מנגנון ניהול] |
| תקנות | [GDPR / HIPAA / אחר] | [דרישות עיקריות] |
```

### סביבות עבודה

כל הסביבות בפרויקט.

**בסיסיות:**
1. **Development** - פיתוח
2. **Staging** - בדיקות
3. **Production** - ייצור

**עבור כל סביבה:** URL, מטרה, גישה, סוג נתונים

**Promotion:** Dev → Staging → Production

**נוספות:** QA, UAT, Hotfix

**הבדלים:** Staging = מערכות בדיקה, Production = אמיתיות

**חשוב:** מונע טעויות (מיילים אמיתיים מ-Dev).

**פורמט טבלה:**

```markdown
| סביבה | URL | מטרה | גישה | נתונים | הערות |
|--------|-----|-------|-------|---------|-------|
| Development | [URL] | פיתוח ובדיקות מקומיות | מפתחים | דמה | [הערות] |
| Staging | [URL] | בדיקות לפני ייצור | בודקים, לקוח | בדיקה | [הערות] |
| Production | [URL] | סביבת ייצור | כולם | אמיתיים | [הערות] |
```

---

# תיאור התכולה

## תיאור ופירוט תהליכים עסקיים

**מה לכלול:**

תהליכים עסקיים מרכזיים מנקודת מבט משתמש.

**תהליך עסקי:** רצף להשגת מטרה

**עבור כל תהליך:**
- שלבים ממוספרים (1, 2, 3)
- פעלים בהווה ("נכנס", "בוחר")
- IF/THEN החלטות
- טיפול בשגיאות
- תוצאה

**כלול:** תהליכי מנהלי תוכן/מערכת

**מורכבים:** Flowchart + טקסט

**מערכות חיצוניות:** fallback אם לא זמינה

**רמת פירוט:** מספיק ל-test cases.

**פורמט:**

```markdown
### [שם התהליך]

**שחקנים:** [מי מעורב - משתמש, מערכת, admin]

**תנאי התחלה:** [מה צריך להתקיים כדי שהתהליך יתחיל]

**שלבים:**

1. [שחקן] [פועל] [פעולה]
2. [שלב עם תנאי] - אם [תנאי] אז [פעולה] אחרת [פעולה חלופית]
3. [המשך שלבים...]

**תוצאה מוצלחת:** [מה קורה בסוף]

**טיפול בשגיאות:** [מה קורה אם משהו נכשל]

**הערות:** [edge cases, תלויות, SLA]
```

**אופציונלי:** צרף תרשים Flowchart כתמונה

---

## טבלת תבניות באתר

**מה לכלול:**

מפרט מקיף של כל סוגי העמודים (Templates).

**עבור כל תבנית:**
- שם בעברית (תיאורי)
- Alias (camelCase)
- Document Type (PascalCase)
- תיאור שימוש
- כמות דפים (1, 10-20, 50+, בלתי מוגבל)

**חשיבות הכמות:**
- 200 דפים → גנרית ודינמית
- דף אחד → ספציפית

**כלול:**
- היררכיה (מי יכול להיות ילד של מי)
- Compositions משותפים

**מטרה:** מפת דרכים לבניית מבנה התוכן.

**פורמט טבלה:**

```markdown
| # | שם תבנית | Alias | Document Type | שימוש | כמות דפים משוערת | הורים אפשריים |
|---|----------|-------|---------------|--------|-------------------|----------------|
| 1 | [שם בעברית] | `[camelCase]` | [PascalCase] | [למה משמש] | [מספר או טווח] | [ParentTypes או Root] |
```

---

## מפת האתר

**מה לכלול:**

מפה היררכית ויזואלית של כל הדפים.

**פורמט:** ASCII Tree (├──, └──)

**מבנה:**
- התחל מ-Root (דף הבית)
- התקדם רמה רמה
- כלול URL slug (קריא, לא מזהים מספריים)

**עומק:** 2-3 רמות
- עבור דפים רבים: "..." או "[X נוספים]"

**מטרה:** תמונה כללית, לא רשימה מלאה

**כלול:**
- דפים מיוחדים (404, חיפוש, Login)
- סעיפים גדולים (ציין מספר + 2-3 דוגמאות)

**שימוש:** עוזר למפתח להבין סקופ, למנהל לתכנן סדר פיתוח.

**פורמט Tree:**

```markdown
[RootPageName] (/)
├── [CategoryPage] (/[url-slug])
│   ├── [ChildPage1] (/[parent-slug]/[child-slug])
│   ├── [ChildPage2] (/[parent-slug]/[child-slug])
│   └── [...X דפים נוספים]
├── [CategoryPage2] (/[url-slug])
│   └── [ChildPages...]
└── [SpecialPage] (/[url-slug])
```

---

## מיפוי דפים ותבניות

**מה לכלול:**

טבלה מפורטת: דף ↔ תבנית ↔ URLs ↔ Figma.

**עבור כל דף:**
- שם בעברית
- URL עברית (slug)
- URL אנגלית (אם יש)
- URL ערבית (אם רלוונטי)
- Document Type
- Figma Desktop + Node ID
- Figma Mobile + Node ID

**Node IDs קריטיים:** מאפשרים חילוץ screenshots מדויק

**אם לא עוצב:** "בתכנון"

**שימושים:**
- וידוא כיסוי מלא
- מעקב progress (פותח/בדיקות/live)

**חשוב:** כל שורה = דף ספציפי (לא תבנית).

**פורמט טבלה:**

```markdown
| דף | URL עברית | URL אנגלית | URL ערבית | Template | Figma Desktop | Figma Mobile | סטטוס |
|----|-----------|-------------|-----------|----------|---------------|--------------|--------|
| [שם] | /[slug-he] | /en/[slug-en] | /ar/[slug-ar] | [TemplateType] | [URL] (Node: XX-YY) | [URL] (Node: XX-YY) | [תכנון/פיתוח/הושלם] |
```

---

## טבלת סיכום אובייקטים

**מה לכלול:**

סיכום של כל האובייקטים הטכניים ב-Umbraco.

**תתי-טבלאות:**
1. **Document Types** - סוגי דפים
2. **Block/Element Types** - רכיבים
3. **Compositions** - קבוצות properties
4. **Data Types** - מותאמים אישית

**עבור כל אובייקט:**
- שם בעברית
- Alias (טכני)
- תיאור שימוש

**Document Types - כלול:**
- הורים אפשריים
- ילדים אפשריים

**Compositions - כלול:**
- רשימת Properties

**מטרה:** inventory + checklist + תמונה מלאה.

**פורמט:**

```markdown
### Document Types

| # | שם | Alias | הורים אפשריים | ילדים אפשריים | הערות |
|---|-----|-------|----------------|----------------|-------|
| 1 | [שם Page] | `[pageName]` | [ParentTypes או Root] | [ChildTypes] | [הערות] |

### Block Types (Element Types)

| # | שם | Alias | שימוש | נמצא ב-Pages |
|---|-----|-------|--------|--------------|
| 1 | [שם Block] | `[blockName]` | [תיאור תפקיד] | [אילו דפים משתמשים בו] |

### Compositions

| # | שם | Alias | Properties | משותף ל |
|---|-----|-------|-----------|----------|
| 1 | [שם Composition] | `[compositionName]` | [רשימת properties] | [אילו Document Types] |

### Custom Data Types

| # | שם | Alias | Based On | Validation |
|---|-----|-------|----------|------------|
| 1 | [שם] | `[alias]` | [סוג בסיס] | [כללים] |
```

---

# פירוט ממשק למשתמש

## קישורי Figma

**מה לכלול:**

רשימה מאורגנת של כל קישורי העיצוב ב-Figma למציאה מהירה.

**עבור כל רכיב/עמוד כלול:**
- קישור ישיר ל-Node ספציפי (לא רק לקובץ כללי)
- גם Desktop וגם Mobile
- URL מלא + Node ID בנפרד (Node ID נדרש לשליפת screenshots אוטומטית)
- גרסת העיצוב (V1, V2, Final) - ציין איזו מאושרת

**אם רכיב לא עוצב עדיין:** סמן "בתכנון"

**שימוש:**
- המפתחים משתמשים בטבלה כ-Quick Reference
- חוסך חיפושים בקובץ Figma ענק
- עדכן כל שינוי בעיצוב או הוספת רכיב

**טיפ חשוב:** אם משתמשים ב-Figma Variants או Components - ציין זאת (משפיע על חילוץ העיצוב לקוד).

**פורמט טבלה:**

```markdown
| רכיב/עמוד | Figma Desktop | Node ID Desktop | Figma Mobile | Node ID Mobile | גרסה |
|-----------|---------------|-----------------|--------------|----------------|-------|
| [שם] | [Full Figma URL] | [XXXXX-YYYYY] | [Full Figma URL] | [XXXXX-YYYYY] | [V1/V2/Final] |
```

---

## תיאור רכיבים כלליים

**מה לכלול:**

רכיבים גלובליים שמופיעים בכל/רוב הדפים.

**רכיבים:**
Header, Footer, Navigation, Breadcrumbs, Hamburger, Search Bar, Quick Actions, Language Switcher, Accessibility Widget

**עבור כל רכיב (spec מלא):**
- **מטרה** - למה קיים
- **מיקום** - איפה מופיע
- **פעולה** - איך עובד
- **מקור מידע** - CMS/API/hardcoded
- **Responsive** - Desktop vs Mobile

**תשומת לב לרכיבים עם לוגיקה:**
- Breadcrumbs → בניה אוטומטית מהיררכיה
- Navigation → פריט פעיל
- Search → טיפול בתוצאות ריקות

**אורך:** כל רכיב יכול להיות 2-3 עמודים.

**מה לתעד לכל רכיב:**

1. **מטרת האלמנט** - למה הרכיב קיים, איזו בעיה הוא פותר
2. **איפה מוצג** - בכל דף / דפים ספציפיים / תנאי הצגה
3. **תיאור פונקציונליות** - איך הרכיב עובד, מה קורה באינטראקציה
4. **מקור נתונים** - מהיכן המידע מגיע (CMS, API, Static)
5. **מצבי תצוגה** - טבלה של כל האלמנטים ברכיב ומתי הם מוצגים
6. **Responsive Behavior** - שינויים בין Desktop, Tablet, Mobile
7. **הנחיות Umbraco** - איך מנהלים את הרכיב ב-CMS
8. **נגישות** - דרישות WCAG ספציפיות לרכיב
9. **הערות למפתח** - edge cases, אופטימיזציות, best practices

---

## תבניות דפים (Pages)

**מה לכלול:**

עבור כל תבנית דף (Page Template) שזוהתה בטבלת התבניות, כתוב אפיון מלא ומפורט. כל תבנית תהיה תת-פרק משלה (Heading 3) ותכלול את כל המידע הנדרש לפיתוח ועיצוב של דפים מסוג זה.

**חשוב: לכל תבנית יש שלושה חלקים עיקריים:**

1. **תיאור התבנית העיצובית** - כותרת ותיאור של איך התבנית נראית ומתנהגת בממשק המשתמש (UI/UX)
2. **מערכת ניהול** - כותרת ותיאור של איך מנהלים את התבנית ב-Umbraco CMS (Document Type, Properties)
3. **תיאור פונקציונלי וכללי** - כותרת ותיאור של הפונקציונליות הכללית, לוגיקה, אינטגרציות, נגישות, SEO

**יש לרשום כותרת מפורשת לכל אחד מהחלקים הללו.**

דוגמאות לכותרות:
- "### חלק 1: תיאור התבנית העיצובית"
- "### חלק 2: מערכת ניהול - Umbraco"
- "### חלק 3: תיאור פונקציונלי וכללי"

**מה לכלול בכל חלק:**

**חלק 1 - תיאור התבנית העיצובית:**
- קישורי Figma (Desktop + Mobile עם Node IDs)
- צילומי מסך מוטמעים מ-Figma
- רשימת כל הרכיבים בעמוד (Hero Section, Content Areas, Forms, etc.)
- טבלת Responsive Behavior - איך הדף משתנה בין Desktop, Tablet, Mobile

**חלק 2 - מערכת ניהול (Umbraco):**
- Document Type Definition: Alias, Icon, Allowed Templates, Parent Types, Compositions
- טבלה מפורטת של Properties מחולקים ל-Groups ו-Tabs
- עבור כל Property כלול: מספר רץ, שם בעברית, Alias (camelCase), Data Type מדויק, חובה, Validation Rules, תיאור

**חלק 3 - תיאור פונקציונלי:**
- לוגיקת הצגה של רכיבים - מתי מוצג, מתי מוסתר, תנאים, ברירות מחדל
- דרישות נגישות WCAG ספציפיות לדף
- SEO - Meta Tags מוצעים ו-Schema.org markup
- הערות למפתח - קוד ספציפי, אופטימיזציות, אינטגרציות, Google Analytics events

**מבנה פרק לכל תבנית:**

```markdown
### תבנית: [שם התבנית]

---

#### חלק 1: תיאור התבנית העיצובית

##### קישורי Figma

[טבלה עם Desktop + Mobile URLs ו-Node IDs]

##### צילומי מסך

[הטמעת תמונות מ-Figma]

##### רכיבים בעמוד

[רשימה ותיאור של כל רכיב UI - Hero, Content Areas, Forms, etc.]

##### Responsive Design

[טבלה של התנהגות במסכים שונים - Desktop, Tablet, Mobile]

---

#### חלק 2: מערכת ניהול - Umbraco

##### Document Type Definition

[טבלה של Alias, Icon, Allowed Templates, Parent Types, Compositions]

##### Groups & Properties

[טבלה מפורטת של כל השדות - שם שדה, Alias, Data Type, חובה, Validation, תיאור]

---

#### חלק 3: תיאור פונקציונלי וכללי

##### לוגיקה ותנאים

[תיאור של לוגיקה עסקית, תנאי הצגה/הסתרה, calculations]

##### תמיכה רב-לשונית

[איך התבנית מטופלת בשפות שונות]

##### נגישות

[דרישות WCAG ספציפיות]

##### SEO

[Meta tags, Schema.org, OpenGraph]

##### הערות למפתח

[קוד ספציפי, אינטגרציות, אנליטיקס, אופטימיזציות]
```

---

# מערכת ניהול - Umbraco Backoffice

## הנחיות כלליות

**מה לכלול:**

איך מנהלי תוכן עובדים עם Umbraco.

**גישה בסיסית:**
- כתובת: [domain]/umbraco
- אימות: AD, Azure AD, Umbraco Users, SSO
- מי מקבל גישה

**הרשאות:**
- תפקידים (Roles)
- הרשאות לכל תפקיד (יצירה, עריכה, פרסום, מחיקה, הגדרות)
- Sections (Content Tree, Media, Forms, Settings)

**עקרונות שימוש:**
- עבודה מקבילית (concurrent editing)
- שמירת גרסאות אוטומטית + Rollback
- Publish/Unpublish workflow

**Workflow מיוחד:** אם יש (אישור לפני פרסום)

**גיבויים:** כמה פעם, איפה

**הדרכה:** מי מלמד, האם יש מדריך

**מטרה:** "איך עובדים" מנקודת מבט עורך תוכן.

**נושאים לכלול:**

- כתובת גישה ל-Backoffice
- מנגנון אימות והרשאות
- סוגי משתמשים ותפקידים
- עקרונות עבודה (concurrent editing, versions, publish flow)
- גיבויים ו-disaster recovery
- הדרכה ותמיכה

---

## תיאור רכיבי Umbraco כלליים

**מה לכלול:**

קונספטים בסיסיים של Umbraco (section חינוכי).

**מושגים:**
- **Document Types** vs **Element Types/Blocks**
- **Compositions** - אוספי properties
- **Data Types** - Textstring, Media Picker
- **Content** vs **Settings**

**Block List:**
בניית דפים דינמית מרכיבים מוכנים (בלי פיתוח חדש)

**Compositions נפוצים:**
SEO, Navigation, Social Share + מה הם מספקים

**רמה:** לא tutorial מלא - מספיק להבנה בסיסית.

**נושאים:**
- Document Types vs Element Types/Blocks - מה ההבדל
- Compositions - מה זה ולמה משתמשים
- Data Types - סוגי שדות נפוצים
- Block List - בניית עמודים דינמית
- Content vs Settings - הבדל בניהול

---

## מסכים ותהליכים ב-Backoffice

**מה לכלול:**

תהליכי עבודה נפוצים (מדריך משתמש ממוספר).

**תהליכים עיקריים:**

1. **יצירת עמוד**
   - התחלה, בחירת Document Type, שדות חובה, טיוטה, פרסום

2. **עדכון תוכן**
   - מציאת דף, עריכה, היסטוריה, שחזור

3. **העלאת תמונות**
   - Media Library, תיקיות, העלאה מרובה, metadata

4. **יצירת טופס**
   - Umbraco Forms, שדות, workflows, submissions

5. **פרסום מתוזמן**

6. **העברת דף**
   - Drag & drop, copy/move

**Approval workflow** (אם יש):
מי מגיש, מאשר, התראות

**כלול:** Screenshots או קישורים

**שימוש:** training, זיהוי customizations.

---

# ממשקי API

**מה לכלול:**

תיעוד מלא של כל ממשק API (סגנון OpenAPI/Swagger).

**עבור כל endpoint:**
- HTTP Method (GET, POST, PUT, DELETE)
- URL מלא + path parameters
- Query Parameters (סוג, חובה, validation)
- Request Body (schema JSON מפורט)
- Response Body (schema מלא, status 200)
- Response Codes (200, 400, 401, 404, 500) + הסבר
- Headers (Authorization, Content-Type)
- **דוגמאות קונקרטיות** Request + Response

**חוקים עסקיים:**
לוגיקה בשרת (validations, calculations, conditions)

**Authentication:**
Bearer Token, API Key, OAuth - תאר מנגנון

**נוספים:**
- Rate limiting
- Timeouts
- Caching policy
- Error codes עסקיים

**רמת תיעוד:** Frontend יכול לממש בלי Backend.

**מבנה לכל API:**

```markdown
## [שם המערכת] - [תיאור כללי]

### Endpoint: [METHOD] /api/[path]

**תיאור:** [למה ה-endpoint הזה, מה הוא עושה]

#### Request

**Headers:**

| Header | ערך | חובה |
|--------|-----|------|
| [HeaderName] | [Value/Format] | [כן/לא] |

**Parameters:**

| פרמטר | מיקום | סוג | חובה | Validation | תיאור |
|-------|-------|-----|------|------------|-------|
| [name] | [query/path/body] | [string/number/etc] | [כן/לא] | [rules] | [תיאור] |

**Body (אם POST/PUT):**

```json
{
  "[field]": "[type - description]"
}
```

#### Response

**Success (200):**

```json
{
  "[field]": "[type - description]"
}
```

**Error Codes:**

| Code | משמעות | מתי מוחזר |
|------|---------|----------|
| [4XX/5XX] | [תיאור] | [תנאי] |

#### חוקים עסקיים

1. [Rule 1 - validation, calculation, etc]
2. [Rule 2]

#### Caching & Performance

- [Cache policy]
- [Timeout]
- [Rate limiting]

#### דוגמאות

**Request:**
```
[Full request example]
```

**Response:**
```
[Full response example]
```
```

---

# הנחיות לביצוע

## הנחיות למפתח

**מה לכלול:**

הנחיות ו-best practices למפתח (לא קוד, כללים).

**תחומים:**

**Backend (Umbraco):**
- Document Types
- ModelsBuilder
- Caching
- Validation

**Frontend:**
- Components structure
- State management
- API calls
- Error handling

**Performance:**
- PageSpeed, Core Web Vitals
- Lazy loading, code splitting

**אבטחה:**
- Input validation, CSRF, XSS
- Secure API calls

**Accessibility:**
- WCAG, ARIA, keyboard

**SEO:**
- Meta tags, structured data, sitemaps

**Analytics:**
- GA events, tracking

**רמת פירוט:**
- **לא:** generic advice
- **כן:** ספציפי לפרויקט
- דוגמה: "תמונה > 500KB → lazy loading"

**כלול:**
- Naming conventions
- File structure
- Company standards (ESLint, StyleGuide)

**מטרה:** consistency + מניעת bugs.

**נושאים לכלול:**

- Backend (Umbraco specific)
- Frontend (Framework specific)
- Performance requirements
- Security guidelines
- Accessibility (WCAG)
- SEO implementation
- Analytics & Tracking
- Error Handling
- Logging
- Code organization

---

## הנחיות לבודק

**מה לכלול:**

Checklist מפורט לבודק תוכנה.

**קטגוריות:**

1. **Functional** - טפסים, ניווט, חיפוש, לוגיקה
2. **UI/UX** - עיצוב, responsive, אנימציות
3. **Cross-Browser** - Chrome, Safari, Firefox, Edge (Desktop + Mobile)
4. **Performance** - PageSpeed, load time, Core Web Vitals
5. **Accessibility** - WAVE, axe, keyboard, screen reader
6. **SEO** - Meta, structured data, links
7. **Security** - SQL injection, XSS, CSRF, auth
8. **Multi-Language** - כל שפה, RTL, fallbacks

**רמת פירוט:**
- ❌ "בדוק טופס"
- ✅ "טופס ריק → הודעות שגיאה"
- ✅ "אימייל לא תקין → הודעה ספציפית"
- ✅ "שליחה מוצלחת → הצלחה + מייל + DB"

**Regression:** דפים ישנים לא נשברו (אם שדרוג)

**כלים:** BrowserStack, Lighthouse, WAVE, axe.

---

# נספחים

## נספח - צילומי מסך Figma

**מה לכלול:**

צילומי מסך מ-Figma מאורגנים לוגית.

**לכל רכיב/עמוד:**
- Desktop + Mobile

**ארגון:**
- לפי סדר הופעה במסמך
- דוגמה: Hero בעמוד 15 → צילום באותו סדר בנספח

**לכל תמונה:**
- כותרת (H4): "Hero Section - Desktop"
- Alt Text לנגישות
- פורמט PNG, איכות טובה
- מיקום: `assets/`
- שם תיאורי: `hero-section-desktop.png`

**אנימציות/אינטראקציות:**
- קישור לפרוטוטייפ Figma
- או GIF

**חשיבות:** רפרנס ויזואלי מרכזי למפתחים.

**מבנה:**

```markdown
## נספח א' - צילומי מסך Figma

### [שם רכיב/עמוד 1]

#### Desktop
![תיאור](./assets/[filename]-desktop.png)

#### Mobile
![תיאור](./assets/[filename]-mobile.png)

### [שם רכיב/עמוד 2]

[המשך...]
```

**הנחיות שמירת קבצים:**
- תיקייה: `outputs/[spec-name]/assets/`
- שמות: `[component-name]-[desktop|mobile].png`
- פורמט: PNG
- איכות: גבוהה (לא compressed)

---

## נספח - מיפוי שגיאות

**מה לכלול:**

טבלה מקיפה של קודי שגיאה.

**סוגי שגיאות:**
- **HTTP סטנדרטיות:** 404, 500, 401, 403
- **עסקיות:** קודים מותאמים לפרויקט
- **מערכות חיצוניות:** שגיאות מ-APIs חיצוניים
- **Validation:** שדה ריק, פורמט לא תקין, טווח

**עבור כל שגיאה:**
- קוד (מספרי/טקסטואלי)
- הודעה למשתמש (עברית, ערבית, אנגלית)
- מתי מתרחשת (תנאים)
- טיפול (log, display, retry, fallback)
- חומרה (Critical, Warning, Info)

**הנחיות UI:**
- איך מציגים (toast, inline, modal)
- צבע, אייקון

**פעולות מיוחדות:**
דוגמה: שגיאת תשלום → audit log + מייל למנהל

**Localization:** ההודעות ב-dictionary לתרגום.

**פורמט טבלה:**

```markdown
| קוד | קטגוריה | הודעה למשתמש (עברית) | מתי מתרחשת | טיפול | חומרה |
|-----|----------|----------------------|------------|--------|--------|
| [CODE] | [סוג] | [הודעה] | [תנאי] | [מה עושים] | [Critical/Warning/Info] |
```

---

## נספח - קונבנציות טכניות

**מה לכלול:**

סטנדרטים וקונבנציות טכניות מרוכזים.

**נושאים:**

**Naming:**
- קבצים, components, variables, functions, CSS classes
- PascalCase, camelCase, kebab-case, snake_case

**File Structure:**
- ארגון תיקיות
- מיקום components, styles, utilities

**Code Style:**
- ESLint, Prettier
- Tabs vs spaces
- Quote style

**Git:**
- Branching strategy
- Commit format
- PR process

**עיצוב:**
- **Color Palette** - כל הצבעים + hex
- **Typography** - פונטים, גדלים, weights, line heights
- **Breakpoints** - Mobile, Tablet, Desktop
- **Spacing** - 4px, 8px, 16px, 24px...

**Style Guide/Design System:** אם יש

**מטרה:** consistency + מפתח חדש מבין "איך כותבים כאן".

**נושאים:**

- Naming Conventions
- File & Folder Structure
- Code Style (linting rules)
- Git Workflow
- Color Palette
- Typography System
- Spacing & Layout System
- Breakpoints

---

**מסמך זה מעודכן לתאריך:** 02/02/2026
**גרסה:** 2.0
